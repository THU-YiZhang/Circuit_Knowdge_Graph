{
  "document_split": {
    "system_prompt": "你是一个专业的文档结构分析专家，擅长识别和分割技术文档的章节结构。",
    "user_prompt": "请分析以下书籍内容，按照章节结构进行分割。\n\n**分析要求：**\n1. 识别所有章节标题和层次结构\n2. 提取每个章节的完整内容\n3. 保持原有的格式和结构\n4. 为每个章节分配唯一的编号\n\n**输出格式：**\n```json\n{\n  \"title\": \"书籍标题\",\n  \"sections\": [\n    {\n      \"section_num\": \"章节编号\",\n      \"title\": \"章节标题\",\n      \"level\": 层次级别,\n      \"content\": \"章节内容\",\n      \"subsections\": [子章节列表]\n    }\n  ]\n}\n```\n\n书籍内容：\n{content}"
  },
  
  "main_logic": {
    "system_prompt": "你是电路知识图谱专家，擅长分析章节间的逻辑关系和知识层次结构。",
    "user_prompt": "请分析以下章节结构，构建主逻辑知识图谱。\n\n**分析目标：**\n1. 识别章节间的逻辑依赖关系\n2. 构建知识学习路径\n3. 确定知识难度层次\n4. 建立概念关联网络\n\n**输出格式：**\n```json\n{\n  \"nodes\": [\n    {\n      \"id\": \"节点ID\",\n      \"label\": \"节点标签\",\n      \"section_num\": \"章节编号\",\n      \"knowledge_layer\": \"知识层次\",\n      \"difficulty\": 1-5,\n      \"summary\": \"节点描述\",\n      \"key_concepts\": [\"关键概念\"],\n      \"learning_objectives\": [\"学习目标\"],\n      \"prerequisites\": [\"前置知识\"]\n    }\n  ],\n  \"edges\": [\n    {\n      \"source_id\": \"源节点ID\",\n      \"target_id\": \"目标节点ID\",\n      \"relationship\": \"关系类型\",\n      \"description\": \"关系描述\",\n      \"weight\": 0.0-1.0\n    }\n  ]\n}\n```\n\n章节结构：\n{sections_data}"
  },
  
  "sub_logic": {
    "system_prompt": "你是顶级的电路设计专家和知识工程师。你擅长从技术文档中提取结构化的三元组知识图谱，能够准确识别知识的层次结构和相互关系。请严格按照要求进行深入分析，确保提取的知识准确、完整、有用。",
    "user_prompt": "你是一位资深的电路设计专家和知识工程师。请使用逐步思考的方法从以下电路技术章节中提取三元组知识图谱。\n\n## 章节信息\n- **章节号**: {section_num}\n- **标题**: {title}\n- **内容**: {content}\n\n## 分析任务\n请按照以下步骤进行分析：\n\n### 第一步：内容理解\n仔细阅读章节内容，理解主要技术主题和知识结构。\n\n### 第二步：知识分层提取\n按照以下三个层次提取知识节点：\n\n**1. 基础概念层 (Basic Concepts)**\n- 提取：基本定义、原理、定律、公式、参数等\n- 特征：理论性强，是其他知识的基础\n- 要求：每个概念都要有明确的定义和解释\n\n**2. 核心技术层 (Core Technologies)**\n- 提取：实现方法、设计技巧、分析方法、算法等\n- 特征：方法性强，连接理论与应用\n- 要求：每个技术都要有具体的实现步骤\n\n**3. 电路应用层 (Circuit Applications)**\n- 提取：具体电路、设计实例、应用场景等\n- 特征：实践性强，面向具体应用\n- 要求：每个应用都要有具体的电路结构\n\n### 第三步：关系识别\n识别以下类型的知识关系：\n\n**层间关系**：\n- enables: 基础概念使能核心技术\n- supports: 基础概念支撑核心技术\n- implements: 核心技术实现电路应用\n- applies_to: 核心技术应用于电路应用\n\n**层内关系**：\n- depends_on: 依赖关系\n- relates_to: 相关关系\n- complements: 互补关系\n- extends: 扩展关系\n\n### 第四步：构建知识图谱\n基于上述分析，构建结构化的知识图谱。\n\n请严格按照以下JSON格式返回：\n\n```json\n{{\n  \"section_analysis\": {{\n    \"section_num\": \"{section_num}\",\n    \"title\": \"{title}\",\n    \"content_summary\": \"章节内容的简要概述\",\n    \"knowledge_density\": \"高\",\n    \"complexity_level\": 3,\n    \"key_themes\": [\"主要技术主题1\", \"主要技术主题2\"]\n  }},\n  \"basic_concepts\": [\n    {{\n      \"id\": \"bc_{section_num_safe}_1\",\n      \"label\": \"概念名称\",\n      \"summary\": \"概念的详细描述，包括定义、原理、特点等\",\n      \"difficulty\": 2,\n      \"keywords\": [\"关键词1\", \"关键词2\"],\n      \"formulas\": [\"相关公式\"],\n      \"applications\": [\"应用场景\"],\n      \"properties\": {{\n        \"category\": \"定义\",\n        \"mathematical_level\": \"基础\",\n        \"prerequisite_knowledge\": [\"前置知识\"]\n      }}\n    }}\n  ],\n  \"core_technologies\": [\n    {{\n      \"id\": \"ct_{section_num_safe}_1\",\n      \"label\": \"技术名称\",\n      \"summary\": \"技术的详细描述，包括方法、步骤、优势等\",\n      \"difficulty\": 3,\n      \"keywords\": [\"技术关键词1\", \"技术关键词2\"],\n      \"formulas\": [\"相关算法公式\"],\n      \"applications\": [\"技术应用\"],\n      \"properties\": {{\n        \"category\": \"分析方法\",\n        \"implementation_complexity\": \"中等\",\n        \"required_tools\": [\"工具1\"]\n      }}\n    }}\n  ],\n  \"circuit_applications\": [\n    {{\n      \"id\": \"ca_{section_num_safe}_1\",\n      \"label\": \"应用名称\",\n      \"summary\": \"应用的详细描述，包括电路结构、功能、特点等\",\n      \"difficulty\": 4,\n      \"keywords\": [\"应用关键词1\", \"应用关键词2\"],\n      \"formulas\": [\"设计公式\"],\n      \"applications\": [\"具体应用场景\"],\n      \"properties\": {{\n        \"category\": \"电路拓扑\",\n        \"performance_metrics\": [\"性能指标\"],\n        \"design_constraints\": [\"设计约束\"]\n      }}\n    }}\n  ],\n  \"relationships\": [\n    {{\n      \"source_id\": \"bc_{section_num_safe}_1\",\n      \"target_id\": \"ct_{section_num_safe}_1\",\n      \"relationship\": \"enables\",\n      \"description\": \"详细描述这种关系\",\n      \"weight\": 0.8,\n      \"evidence\": \"支撑这种关系的文本证据\",\n      \"bidirectional\": false\n    }}\n  ]\n}}\n```\n\n要求：\n1. 基础概念、核心技术、电路应用个数不限制\n2. 每个节点的summary要详细且准确\n3. 关系要真实存在，不能杜撰\n4. 所有字段都要填写，不能为空\n5. JSON格式要严格正确\n\n开始分析："
  },
  
  "connection_analysis": {
    "system_prompt": "你是电路设计专家，擅长分析电路应用与其他技术之间的关联性。",
    "user_prompt": "请分析给定的电路应用与其他章节技术之间的关联性。\n\n**分析任务：**\n给定一个电路应用和相关章节的技术内容，请分析它们之间的技术关联。\n\n**电路应用信息：**\n章节: {app_section}\n应用名称: {app_name}\n应用描述: {app_description}\n\n**相关章节技术内容：**\n{related_content}\n\n**分析要求：**\n1. 识别电路应用需要哪些基础概念支撑\n2. 识别电路应用需要哪些核心技术实现\n3. 识别电路应用如何与其他电路集成\n4. 评估每个关联的重要性和强度\n\n**连接类型定义：**\n- prerequisite: 前置基础知识，电路应用必须依赖的概念\n- supporting_tech: 支撑技术，实现电路应用需要的核心技术\n- integration: 集成关系，电路应用与其他电路的配合\n\n**输出格式：**\n```json\n{\n  \"connections\": [\n    {\n      \"related_concept\": \"相关概念名称\",\n      \"connection_type\": \"连接类型\",\n      \"description\": \"详细的技术关联描述\",\n      \"strength\": 0.0-1.0,\n      \"technical_details\": \"具体的技术实现细节和关联机制\"\n    }\n  ]\n}\n```\n\n**评分标准：**\n- strength 0.8-1.0: 核心依赖，电路应用无法脱离此技术\n- strength 0.6-0.8: 重要支撑，显著影响电路性能\n- strength 0.4-0.6: 一般关联，有技术联系但非必需\n- strength 0.2-0.4: 弱关联，间接相关\n\n请基于技术原理进行深入分析，确保连接的准确性和实用性。"
  },
  
  "visualization": {
    "system_prompt": "你是数据可视化专家，擅长生成知识图谱的可视化配置。",
    "user_prompt": "请为知识图谱生成可视化配置。\n\n**配置要求：**\n1. 节点颜色按类型区分\n2. 边的粗细表示连接强度\n3. 布局算法选择合适的方式\n4. 交互功能配置\n\n**输出格式：**\n```json\n{\n  \"node_colors\": {\n    \"basic_concept\": \"#FF6B6B\",\n    \"core_technology\": \"#4ECDC4\",\n    \"circuit_application\": \"#45B7D1\",\n    \"design_method\": \"#96CEB4\",\n    \"analysis_tool\": \"#FFEAA7\"\n  },\n  \"layout\": \"force_directed\",\n  \"edge_styles\": {\n    \"prerequisite\": {\"color\": \"#E74C3C\", \"style\": \"solid\"},\n    \"supporting_tech\": {\"color\": \"#3498DB\", \"style\": \"dashed\"},\n    \"integration\": {\"color\": \"#2ECC71\", \"style\": \"dotted\"}\n  }\n}\n```\n\n知识图谱数据：\n{graph_data}"
  }
}
